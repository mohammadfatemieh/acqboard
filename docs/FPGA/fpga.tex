The xilinx spartan-3 is used for acquisition control, digital filtering, and data encoding and transmission. 

\begin{figure}[h!]
\includegraphics[scale=0.7]{FPGA.svg}
\end{figure}

\import{.}{clocks.tex}

\import{filter}{input.tex}
\import{filter}{samplebuffer.tex}
\import{filter}{filterarray.tex}
\import{filter}{rmac.tex}

Functions can be separated into

1. THe filtering pathway
  * input
  * offset compensation
  * sample buffer
  * Filter samples
  * RMAC
     * fixed point mat
     * Multiply
     * accumulate
     * round 
     * overflow
2. digital I/O -- fiber transmission
   -- decoder
   -- 8b/10b decoding
   -- word parsing -- importance of FSM, error signal. 
   outputs 
     mode vs cmd

3. command/control
   The complex command FSM. 

4. EEPROM IO
   Loader
   EEPROM module

5. 
